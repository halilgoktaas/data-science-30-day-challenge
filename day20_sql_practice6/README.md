# Day 20 – Advanced SQL Analytics & Model Evaluation

This day focuses on using SQL not only for data retrieval, but as a tool for **analytics-driven decision making** and **machine learning model evaluation** in a real-world SaaS context.

The goal of Day 20 is to demonstrate how a data scientist can analyze user behavior, churn risk, and model outputs directly in SQL, while applying correct validation and analytical reasoning.

---

## Objectives

- Practice advanced SQL with a real-world SaaS schema
- Apply CTEs and window functions for analytical queries
- Combine business metrics with machine learning outputs
- Evaluate model predictions using SQL (confusion matrix, calibration, risk segmentation)
- Strengthen decision-oriented thinking rather than query complexity

---

## Dataset Overview

The dataset simulates a SaaS product with the following components:

- **Customers & Subscriptions**: Active and churned users across different plans
- **Usage Events**: API usage behavior over time
- **Model Predictions**: Churn probabilities generated by different model versions
- **Actual Outcomes**: Ground truth churn labels

This structure allows analysis of both **user behavior** and **model performance**.

---

## SQL Topics Covered

### Core SQL
- Common Table Expressions (CTEs)
- Aggregations and conditional logic
- Time-based filtering using reference dates
- Proper use of `JOIN` vs `LEFT JOIN`

### Advanced Analytics
- Window functions (`ROW_NUMBER`, `LAG`)
- Trend and usage drop detection
- Lifetime and pre-churn behavior analysis

### ML-Oriented SQL
- Confusion matrix labeling (TP, FP, FN, TN)
- Model calibration analysis
- Prediction-to-outcome latency
- Risk segmentation based on probabilities and usage

---

## Key Insights Demonstrated

- SQL can be used to **evaluate machine learning models**, not just prepare data
- Missing data (e.g. no usage before churn) is often an **important signal**, not an error
- Model selection decisions require stability, interpretability, and business context
- Analytical clarity is more valuable than overly complex queries

---

## Outcome

By the end of Day 20:

- SQL is used as an analytics and evaluation tool
- Queries reflect real interview and production scenarios
- Model outputs are interpreted with business impact in mind
- The focus shifts from “writing queries” to **making data-driven decisions**

---

## Notes

This day intentionally prioritizes **clarity and correctness** over query length or complexity.  
Each query is designed to answer a specific analytical question that a data scientist would face in practice.

---

**Day 20 completed as part of the 30 Days Data Scientist Challenge.**
